#> Variables
$App = SUPER
$App2 = SUPER SHIFT
$Power = SUPER SHIFT ALT
$Path = /home/pika/PubDoots/Modules
$Scripts = $Path/scripts
$ChangeWallpaper = $Path/wallpaper/change-wallpaper.sh
$FocusedMonitor = lua $Scripts/get-focused.lua
$SetAudio = $Scripts/set-audio.sh
$AudioPlayer = audio-merchant
$Terminal = kitty

source = /home/pika/PubDoots/Unique/pikalinux/hyprext.conf

#> Environment Variables
env = HYPRCURSOR_THEME,rose-pine-hyprcursor
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt5ct
env = XDG_SESSION_TYPE,wayland
env = GTK_THEME,Adwaita:dark

#> On boot
exec-once = maypaper
exec-once = sleep 3 && $ChangeWallpaper 
exec-once = QML_XHR_ALLOW_FILE_READ=1 quickshell 
exec-once = $Scripts/scratchpad.sh

#> Animation Settings
animations {
  bezier = myBezier, 0.05, 0.9, 0.1, 1.05
  animation = windows, 1, 7, myBezier
  animation = windowsOut, 1, 7, default, popin 80%
  animation = border, 1, 10, default
  animation = borderangle, 1, 8, default
  animation = fade, 1, 7, default

  #> Make slurp fade out instantly
  animation = fadeLayersIn, 1, 3, default
  animation = fadeLayersOut, 0
  
  animation = workspaces, 1, 6, default
  enabled = yes
}

#> Visual Settings
decoration {
  blur {
    enabled = true
    passes = 2
    size = 10
  }

  active_opacity = 1
  fullscreen_opacity = 1
  #inactive_opacity = 0.97
  rounding = 0
}

dwindle {
  preserve_split = yes
  pseudotile = yes
}

general {
  allow_tearing = false
  border_size = 0
  gaps_in = 0
  gaps_out = 0
  layout = dwindle
}

input {
  follow_mouse = 1
  kb_layout = us
  touchpad {
    natural_scroll = true
  }
  repeat_delay = 250
}

device {
    name = cx-2.4g-wireless-receiver-mouse
    sensitivity = -0.5
}

misc {
  middle_click_paste = false
  force_default_wallpaper = 0
  disable_hyprland_logo = true
}

ecosystem {
  no_update_news = true
}

xwayland:force_zero_scaling = true

#> App Binds
bind = $App, SPACE, exec, sherlock 
bind = $App, D, exec, brave --enable-features=TouchpadOverscrollHistoryNavigation
bind = $App, B, exec, firefox
bind = $App, Y, exec, tor-browser
bind = $App, Q, exec, $Terminal
bind = $App, N, exec, alacritty
bind = $App, X, exec, $Terminal -e yazi 
bind = $App, T, exec, flatpak run com.rtosta.zapzap 
bind = $App, U, exec, QT_SCALE_FACTOR=1.5 krita
bind = $App, G, exec, $Scripts/scratchpad.sh

#> Comp binds
bind = $App, R, exec, $ChangeWallpaper
bind = $App, C, killactive
bind = $App, F, fullscreen
bind = $App, bracketright, togglesplit
bind = $App, bracketleft, swapsplit
bind = $App, V, togglefloating
bind = $App, S, exec, $Scripts/screenshot.sh 

#> Window focus binds
bind = $App, H, movefocus, l
bind = $App, L, movefocus, r
bind = $App, J, movefocus, u
bind = $App, K, movefocus, d

#> Window / Workspace shifting binds
bind = $App, 1, exec, $Scripts/workspace.sh 1 focus
bind = $App, 2, exec, $Scripts/workspace.sh 2 focus
bind = $App, 3, exec, $Scripts/workspace.sh 3 focus
bind = $App, 4, exec, $Scripts/workspace.sh 4 focus
bind = $App, 5, exec, $Scripts/workspace.sh 5 focus
bind = $App, 6, exec, $Scripts/workspace.sh 6 focus
bind = $App, 7, exec, $Scripts/workspace.sh 7 focus
bind = $App, 8, exec, $Scripts/workspace.sh 8 focus
bind = $App, 9, exec, $Scripts/workspace.sh 9 focus

bind = $App2, 1, exec, $Scripts/workspace.sh 1 move 
bind = $App2, 2, exec, $Scripts/workspace.sh 2 move
bind = $App2, 3, exec, $Scripts/workspace.sh 3 move
bind = $App2, 4, exec, $Scripts/workspace.sh 4 move
bind = $App2, 5, exec, $Scripts/workspace.sh 5 move
bind = $App2, 6, exec, $Scripts/workspace.sh 6 move
bind = $App2, 7, exec, $Scripts/workspace.sh 7 move
bind = $App2, 8, exec, $Scripts/workspace.sh 8 move
bind = $App2, 9, exec, $Scripts/workspace.sh 9 move

#> Power binds
bind = $Power, 7, exec, systemctl suspend
bind = $Power, 8, exec, systemctl hibernate
bind = $Power, 9, exec, systemctl poweroff 
bind = $Power, 0, exec, systemctl reboot
bind = $Power, M, exit

#> Window resize bindEs
binde = $App, right, resizeactive, 30 0
binde = $App, left, resizeactive, -30 0
binde = $App, up, resizeactive, 0 -30
binde = $App, down, resizeactive, 0 30

bind = $App, SLASH, exec, playerctl --player="$AudioPlayer" play-pause
bind = $App, COMMA, exec, playerctl --player="$AudioPlayer" previous
bind = $App, PERIOD, exec, playerctl --player="$AudioPlayer" next

#> Audio bindEs
binde = $App, PAGE_UP, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
binde = $App, PAGE_DOWN, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-

binde = $App, EQUAL, exec, playerctl --player="$AudioPlayer" volume 0.05+
binde = $App, MINUS, exec, playerctl --player="$AudioPlayer" volume 0.05-

#> Mouse binds
bindm = $App, mouse:272, movewindow
bindm = $App, mouse:273, resizewindow

#> Global Keybinds for apps
bind = $App, E, global, quickshell:shellToggle

# Window Rules
layerrule = blur on, ignore_alpha 0, match:namespace quickshell
layerrule = blur on, ignore_alpha 0, match:namespace sherlock

# Bind windows to scratchpad
windowrule = match:class ^(signal)$, workspace special:scratchpad silent
windowrule = match:class ^(blueman-manager)$, workspace special:scratchpad silent
windowrule = match:class ^(vesktop)$, workspace special:scratchpad silent


bind = $App, Z, togglespecialworkspace, scratchpad
workspace = special:scratchpad, on-created-empty:$Scripts/scratchpad.sh
